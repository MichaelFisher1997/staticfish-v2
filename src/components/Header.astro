---
import { Button } from "./ui/button";
import MobileMenu from "./MobileMenu";

const navigation = [
  { name: "Home", href: "/" },
  { name: "Services", href: "/services" },
  { name: "Portfolio", href: "/portfolio" },
  { name: "About", href: "/about" },
  { name: "Pricing", href: "/pricing" },
];

const currentPath = Astro.url.pathname;
---

<header class="fixed top-0 left-0 right-0 z-50 w-full">
  <div class="mx-auto max-w-7xl px-6 py-4">
    <nav class="glass rounded-2xl px-6 py-3 flex justify-between items-center transition-all duration-500 hover:shadow-xl">
      <!-- Logo -->
      <a href="/" class="flex items-center gap-3 group">
        <div class="relative w-10 h-10 rounded-xl bg-gradient-to-br from-ocean to-primary flex items-center justify-center text-white shadow-lg shadow-ocean/20 group-hover:shadow-primary/30 transition-shadow duration-300">
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z" fill="currentColor" opacity="0.2"/>
            <path d="M12 4c-1.5 2-2.5 4-2.5 6s1 4 2.5 6c1.5-2 2.5-4 2.5-6s-1-4-2.5-6z" fill="currentColor"/>
            <circle cx="8" cy="10" r="1.5" fill="currentColor"/>
            <circle cx="16" cy="14" r="1.5" fill="currentColor"/>
          </svg>
        </div>
        <span class="text-lg font-bold tracking-tight text-ink font-display group-hover:text-primary transition-colors duration-300">
          staticfish
        </span>
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center gap-1">
        {navigation.map((item) => (
          <a
            href={item.href}
            class={`px-4 py-2 text-sm font-medium tracking-wide rounded-lg transition-all duration-300 ${
              currentPath === item.href 
                ? "text-primary bg-primary/10" 
                : "text-muted-foreground hover:text-foreground hover:bg-secondary"
            }`}
          >
            {item.name}
          </a>
        ))}
      </div>

      <!-- CTA & Mobile -->
      <div class="flex items-center gap-4">
        <a href="/contact" class="hidden md:inline-flex">
          <Button size="sm" className="rounded-xl bg-ink text-white hover:bg-primary shadow-lg shadow-ink/10 hover:shadow-primary/20 transition-all duration-300 font-semibold">
            Start Project
          </Button>
        </a>
        <div class="md:hidden">
          <MobileMenu navigation={navigation} currentPath={currentPath} client:load />
        </div>
      </div>
    </nav>
  </div>
</header>

<style>
  /* Ensure header doesn't cover content initially */
  header {
    animation: fade-down 0.6s ease-out forwards;
  }
</style>
